<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>コーヒー診断 by Taiki Coffee</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 1em;
      background-color: #f8f8f8;
      color: #333;
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
      background: #fff;
      padding: 2em;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h1, h2 {
      text-align: center;
    }

    .question {
      margin-bottom: 1.5em;
    }

    button {
      display: block;
      width: 100%;
      margin: 0.5em 0;
      padding: 1em;
      font-size: 1.1em;
      border: none;
      border-radius: 5px;
      background-color: #a0522d;
      color: white;
      cursor: pointer;
    }

    button:hover {
      background-color: #8b4513;
    }

    img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 1em auto;
    }

    @media screen and (max-width: 600px) {
      h1 {
        font-size: 1.5em;
      }

      button {
        font-size: 1em;
        padding: 0.8em;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Taiki Coffee 診断</h1>
    <div id="question-container" class="question"></div>
    <div id="result-container" style="display:none; text-align: center;"></div>
  </div>

  <script>
    const questions = [
      {
        question: "どんな気分でコーヒーを飲みたい？",
        answers: [
          { text: "リラックスしたい", next: 1 },
          { text: "シャキッとしたい", next: 2 }
        ]
      },
      {
        question: "味の好みは？",
        answers: [
          { text: "酸味が好き", next: "エチオピア" },
          { text: "苦味が好き", next: "フレンチロースト" }
        ]
      },
      {
        question: "濃さは？",
        answers: [
          { text: "濃いめが好き", next: "エスプレッソクラシコ" },
          { text: "軽めがいい", next: 3 }
        ]
      },
      {
        question: "テイストは？",
        answers: [
          { text: "バランス型", next: "ハウスブレンド" },
          { text: "香り重視", next: "モカジャバ" },
          { text: "まろやか系", next: "カフェオレモナーレ" }
        ]
      }
    ];

    const beanInfo = {
      "ハウスブレンド": { image: "img/houseblend.jpeg", desc: "バランスの取れた味わい。毎日飲みたい定番。" },
      "モカジャバ": { image: "img/mochajava.jpeg", desc: "香り高く酸味とコクが共存する味わい。" },
      "カフェオレモナーレ": { image: "img/cafeole.jpeg", desc: "まろやかな味わいでミルクと相性抜群。" },
      "エスプレッソクラシコ": { image: "img/espresso.jpeg", desc: "力強い苦味と深み。エスプレッソに最適。" },
      "フレンチロースト": { image: "img/french.jpeg", desc: "強い苦味とコク。アイスにもおすすめ。" },
      "エチオピア": { image: "img/ethiopia.jpeg", desc: "フルーティーな酸味。華やかな香り。" }
    };

    let current = 0;

    function showQuestion(index) {
      const container = document.getElementById("question-container");
      container.innerHTML = "";
      const q = questions[index];
      const title = document.createElement("h2");
      title.textContent = q.question;
      container.appendChild(title);

      q.answers.forEach(answer => {
        const btn = document.createElement("button");
        btn.textContent = answer.text;
        btn.onclick = () => {
          if (typeof answer.next === "number") {
            showQuestion(answer.next);
          } else {
            showResult(answer.next);
          }
        };
        container.appendChild(btn);
      });
    }

    function showResult(beanName) {
      document.getElementById("question-container").style.display = "none";
      const result = document.getElementById("result-container");
      result.style.display = "block";

      const title = document.createElement("h2");
      title.textContent = `あなたにおすすめの豆は：${beanName}`;
      result.appendChild(title);

      const img = document.createElement("img");
      img.src = beanInfo[beanName].image;
      result.appendChild(img);

      const desc = document.createElement("p");
      desc.textContent = beanInfo[beanName].desc;
      result.appendChild(desc);
    }

    showQuestion(current);
  </script>
</body>
</html>
